(this["webpackJsonptime-tracker"]=this["webpackJsonptime-tracker"]||[]).push([[4],{51:function(n,e,t){"use strict";t.d(e,"a",(function(){return u}));var r,i,o=t(4),a=t(5),c=t(11),u=a.c.div(r||(r=Object(o.a)(["\n    margin: 40px auto;\n    max-width: 500px;\n    border-radius: 10px;\n    border: 1px solid ",";\n    padding: 40px;\n    position: relative;\n    box-shadow: 4px 10px 20px #e1e1e1, 0 0 10px #f1f1f1;\n    ","\n    .window-view__title {\n        ","\n        position: absolute;\n        width: auto;\n        top: -30px;\n        text-align: center;\n        left: 0;\n        right: 0;\n        span {\n            padding: 10px 20px;\n            background-color: white;\n        }\n    }\n"])),(function(n){return n.theme.colors.secondary}),Object(c.b)(i||(i=Object(o.a)(["\n        box-shadow: none;\n        border: none;\n        border-radius:0;\n        padding: 40px 0; \n   "]))),(function(n){return n.theme.fonts.title}))},54:function(n,e,t){"use strict";t.r(e);var r,i=t(0),o=t(2);!function(n){n.TEXT="text",n.NUMBER="number"}(r||(r={}));var a=t(10),c=Object(i.createContext)(null);function u(){return Object(i.useContext)(c)}var s,l,b,p,d,f,m=t(4),h=t(5),j=h.c.div(s||(s=Object(m.a)(["\n    color: ",";\n    position: absolute;\n    top: 100%;\n    left: 0;\n    margin-top: 4px;\n    font-weight: 600;\n    font-size: 10px;\n"])),(function(n){return n.theme.colors.error})),O=t(1),v=function(n){var e=n.name,t=u(),r=t.errors,o=t.isSubmitted,a=Object(i.useMemo)((function(){return r[e]}),[r]);return a&&o?Object(O.jsx)(j,{children:a}):null},x=h.c.div(l||(l=Object(m.a)(["\n    position: relative;\n    margin-bottom: 24px;\n    .form-input {\n        &__label {\n            display: block;\n            ","\n            font-weight: 600;\n            margin-bottom: 6px;\n        }\n        &__input {\n            display: block;\n            ","\n            padding: 14px 14px;\n            border-radius: 8px;\n            border: 1px solid ",";\n            color: ",";\n            width: 100%;\n            box-sizing: border-box;\n            appearance: none;\n        }\n    }\n"])),(function(n){return n.theme.fonts.paragraph}),(function(n){return n.theme.fonts.paragraph}),(function(n){return n.theme.colors.secondary}),(function(n){return n.theme.colors.dark})),g=function(n){var e=n.name,t=n.label,o=n.type,a=void 0===o?r.TEXT:o,c=u(),s=c.values,l=c.update,b=Object(i.useMemo)((function(){return s[e]}),[s]);return Object(O.jsxs)(x,{className:"form-input",children:[Object(O.jsx)("label",{htmlFor:e,className:"form-input__label",children:t}),Object(O.jsx)("input",{className:"form-input__input",value:b,onChange:function(n){var t=n.target.value;if(a===r.NUMBER){var i=(t=t.replace(/[^\d.]/g,"")).split(".");console.log("oarts",i),i.length>1&&(t="".concat(i.shift(),".").concat(i.join("")))}l(e,t)}}),Object(O.jsx)(v,{name:e})]})},_=t(9),y=t(28),w=t(16),k=Object(h.c)(x)(b||(b=Object(m.a)(["\n    .form-input {\n        &__options {\n            position: absolute;\n            top: 100%;\n            width: 100%;\n            margin: 10px 0 0 0;\n            padding: 0 14px;\n            list-style-type: none;\n            transform: scaleY(0);\n            opacity: 0;\n            transform-origin: top center;\n            transition: all 0.3s ease;\n            border-radius: 8px;\n            background-color: white;\n            overflow: hidden;\n            z-index: 2;\n            border: 1px solid ",";\n            &__open {\n                transform: scaleY(1);\n                opacity: 1;\n            }\n        }\n        &__option {\n            color: blue;\n            display: block;\n            padding: 14px 0;\n            border-bottom: 1px solid ",";\n            ","\n            cursor: pointer;\n            &:last-child {\n                border-bottom: none;\n            }\n            &__selected {\n                color: ",";\n                font-weight: 600;\n            }\n            &__disabled {\n                opacity: 0.4;\n            }\n        }\n    }\n"])),(function(n){return n.theme.colors.secondary}),(function(n){return n.theme.colors.secondary}),(function(n){return n.theme.fonts.paragraph}),(function(n){return n.theme.colors.primary})),N=function(n){var e,t,r,o=n.name,a=n.label,c=n.options,s=Object(i.useState)(!1),l=Object(_.a)(s,2),b=l[0],p=l[1],d=u(),f=d.values,m=d.update,h=Object(i.useMemo)((function(){return f[o]}),[f]),j=Object(i.useState)(""),x=Object(_.a)(j,2),g=x[0],N=x[1],S=Object(i.useRef)(null),C=Object(i.useMemo)((function(){return c.filter((function(n){return n.label.toLowerCase().startsWith(g.toLowerCase())})).slice(0,10)}),[g,c]);return Object(i.useEffect)((function(){b&&N("")}),[b]),t=S,r=function(){return p(!1)},Object(w.a)("click",(function(n){var e;(null===(e=t.current)||void 0===e?void 0:e.contains(n.target))||r()})),Object(O.jsxs)(k,{className:"form-input",children:[Object(O.jsx)("label",{htmlFor:o,className:"form-input__label",children:a}),Object(O.jsx)("input",{className:"form-input__input",value:b?g:null===(e=c.find((function(n){return String(n.value)===h})))||void 0===e?void 0:e.label,ref:S,onFocus:function(){return p(!0)},onChange:function(n){return N(n.target.value)}}),Object(O.jsx)(v,{name:o}),Object(O.jsx)("ul",{className:Object(y.a)("form-input__options",b&&"form-input__options__open"),children:C.length?C.map((function(n,e){var t=n.label,r=n.value;return Object(O.jsx)("li",{className:Object(y.a)("form-input__option",h===String(r)&&"form-input__option__selected"),onClick:function(){m(o,String(r))},children:t},e)})):Object(O.jsx)("li",{className:"form-input__option form-input__option__disabled",children:"No results"})})]})},S=t(30),C=t(20),E=function(n){var e=n.initialValues,t=n.onSubmit,r=n.children,o=n.validations,a=Object(i.useState)(e),u=Object(_.a)(a,2),s=u[0],l=u[1],b=Object(i.useState)({}),p=Object(_.a)(b,2),d=p[0],f=p[1],m=Object(i.useState)(!1),h=Object(_.a)(m,2),j=h[0],v=h[1];Object(i.useEffect)((function(){l(e)}),[e]);return Object(O.jsx)(c.Provider,{value:{values:s,errors:d,isSubmitted:j,update:function(n,e){l((function(t){return Object(C.a)(Object(C.a)({},t),{},Object(S.a)({},n,e))})),o&&o[n]&&f((function(t){var r;return Object(C.a)(Object(C.a)({},t),{},Object(S.a)({},n,null===(r=o[n])||void 0===r?void 0:r.validate(e)))}))}},children:Object(O.jsx)("form",{onSubmit:function(n){if(n.preventDefault(),v(!0),o)for(var e=0,r=Object.entries(o);e<r.length;e++){var i=Object(_.a)(r[e],2),a=i[0],c=i[1];d[a]=null===c||void 0===c?void 0:c.validate(s[a])}f(Object(C.a)({},d)),Object.values(d).some((function(n){return!!n}))||t(s)},children:r})})},M=h.c.div(p||(p=Object(m.a)(["\n    display: flex;\n    > .form-input {\n        width: 100%;\n        margin-right: 24px;\n        &:last-child {\n            margin-right: 0;\n        }\n    }\n"]))),T=t(11),L=h.c.button(d||(d=Object(m.a)(["\n    padding: 14px 14px;\n    ","\n    background-color: ",";\n    color: white;\n    border-radius: 8px;\n    border: none;\n    appearance: none;\n    font-weight: 600;\n    transition: all 0.3s ease;\n    cursor: pointer;\n    &:hover {\n        background-color: ",";\n    }\n"])),(function(n){return n.theme.fonts.paragraph}),(function(n){return n.theme.colors.primary}),(function(n){return Object(T.a)(n.theme.colors.primary,.8)})),q=Object(h.c)(x)(f||(f=Object(m.a)(["\n    .form-input {\n        &__input {\n            resize: none;\n            overflow: hidden;\n        }\n    }\n"]))),R=function(n){var e,t=n.name,r=n.label,o=Object(i.useRef)(null),a=u(),c=a.values,s=a.update,l=Object(i.useState)(0),b=Object(_.a)(l,2),p=b[0],d=b[1],f=Object(i.useMemo)((function(){return c[t]}),[c]);return Object(i.useEffect)((function(){if(o.current){o.current.style.height="0px";var n=o.current.scrollHeight+2;d(n),o.current.style.height="".concat(n,"px")}}),[o.current,f]),console.log("height",null===(e=o.current)||void 0===e?void 0:e.scrollHeight,p),Object(O.jsxs)(q,{className:"form-input",children:[Object(O.jsx)("label",{htmlFor:t,className:"form-input__label",children:r}),Object(O.jsx)("textarea",{ref:o,style:{height:"".concat(p,"px")},className:"form-input__input",value:f,onChange:function(n){return s(t,n.target.value)},children:f}),Object(O.jsx)(v,{name:t})]})};function U(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}var z,F=function(){function n(){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.validations=[]}var e,t,r;return e=n,(t=[{key:"validate",value:function(n){return this.validations.reduce((function(e,t){return e||t(n)}),null)}},{key:"required",value:function(){return this.validations.push((function(n){return n?null:"This field is required"})),this}},{key:"min",value:function(n){return this.validations.push((function(e){return parseInt(e)<n?"minimum ".concat(n):null})),this}},{key:"max",value:function(n){return this.validations.push((function(e){return parseInt(e)>n?"maximum ".concat(n):null})),this}},{key:"minLength",value:function(n){return this.validations.push((function(e){return e.length<n?"Use minimum ".concat(n," chars"):null})),this}},{key:"maxLength",value:function(n){return this.validations.push((function(e){return e.length>n?"Use maximum ".concat(n," chars"):null})),this}}])&&U(e.prototype,t),r&&U(e,r),n}(),B=function(){return new F},I=t(29),H=t(51),J=Object(h.c)(H.a)(z||(z=Object(m.a)([""]))),P={time:"",note:"",user:""};e.default=function(){var n=Object(I.b)(),e=n.users,t=n.setNote,c=Object(i.useMemo)((function(){return e.map((function(n){return{label:n.name,value:n.id}}))}),[e]),u=Object(o.g)();return Object(O.jsxs)(J,{children:[Object(O.jsx)("h1",{className:"window-view__title",children:Object(O.jsx)("span",{children:"Add new entry"})}),Object(O.jsxs)(E,{initialValues:P,onSubmit:function(n){var r=e.find((function(e){return e.id===+n.user})),i=t({time:+n.time,note:n.note,user:r});u.push("".concat(a.a.LIST,"/").concat(i))},validations:{time:B().required().min(.1).max(300),note:B().required().minLength(5).maxLength(300),user:B().required()},children:[Object(O.jsxs)(M,{children:[Object(O.jsx)(N,{name:"user",label:"Select user",options:c}),Object(O.jsx)(g,{name:"time",label:"Time spent (h.)",type:r.NUMBER})]}),Object(O.jsx)(M,{children:Object(O.jsx)(R,{name:"note",label:"Note"})}),Object(O.jsx)(L,{type:"submit",children:"Submit"})]})]})}}}]);
//# sourceMappingURL=4.a54298e8.chunk.js.map